<!doctype html>
<html lang="nl">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meyers Automotive - Betrouwbare Occasions &amp; Complete Autoservice</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
  <style>
    body {
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    
    html, body {
      height: 100%;
    }
    
    .spinner {
      border: 3px solid #f3f4f6;
      border-top: 3px solid #FF4B4B;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 0.8s linear infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .hero-bg {
      background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #000000 100%);
    }
    
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    
    .accordion-content.active {
      max-height: 5000px;
      transition: max-height 0.5s ease-in;
    }
    
    .gallery-container {
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    
    .gallery-item {
      scroll-snap-align: start;
    }
    
    .submenu {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    
    .submenu.active {
      max-height: 200px;
    }
    
    .badge-favoriet {
      background: #FF4B4B;
      color: white;
      font-weight: 700;
      padding: 0.25rem 0.75rem;
      border-radius: 0.25rem;
      font-size: 0.75rem;
      letter-spacing: 0.05em;
    }
    
    .badge-verkocht {
      background: #6B7280;
      color: white;
      font-weight: 700;
      padding: 0.5rem 1.5rem;
      border-radius: 0.25rem;
      letter-spacing: 0.1em;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
 </head>
 <body class="bg-white text-gray-900"><!-- Header -->
  <header class="bg-black text-white shadow-lg sticky top-0 z-50">
   <div class="bg-gray-900 py-2">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="flex flex-wrap justify-center sm:justify-between items-center gap-2 text-sm"><a href="tel:+31657160395" class="hover:text-red-500 transition-colors">+31 6 57 16 03 95</a> <a href="mailto:Meyersautomotives@gmail.com" class="hover:text-red-500 transition-colors">Meyersautomotives@gmail.com</a>
     </div>
    </div>
   </div>
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
    <div class="flex justify-between items-center"><a href="#home" class="text-xl sm:text-2xl lg:text-3xl font-bold"> <span class="text-white">Meyers</span> <span class="text-red-500">Automotive</span> </a> <button id="mobileMenuBtn" class="md:hidden text-3xl font-bold text-white w-12 h-12 flex items-center justify-center hover:text-red-500 transition-colors">☰</button>
     <nav class="hidden md:flex gap-6 lg:gap-8"><a href="#home" class="font-medium hover:text-red-500 transition-colors">Home</a> <a href="#aanbod" class="font-medium hover:text-red-500 transition-colors">Aanbod</a> <a href="#diensten" class="font-medium hover:text-red-500 transition-colors">Diensten</a> <a href="#over" class="font-medium hover:text-red-500 transition-colors">Over Ons</a>
      <div class="relative group"><button class="font-medium hover:text-red-500 transition-colors">Locaties</button>
       <div class="absolute hidden group-hover:block bg-black shadow-lg rounded-lg mt-2 py-2 min-w-[150px]"><a href="#locatie-amsterdam" class="block px-4 py-2 hover:bg-gray-900 hover:text-red-500">Amsterdam</a> <a href="#locatie-heemskerk" class="block px-4 py-2 hover:bg-gray-900 hover:text-red-500">Heemskerk</a>
       </div>
      </div><a href="#contact" class="font-medium hover:text-red-500 transition-colors">Contact</a>
     </nav>
    </div>
   </div>
   <nav id="mobileNav" class="hidden md:hidden bg-gray-900 border-t border-gray-700 shadow-2xl"><a href="#home" class="block px-6 py-4 border-b border-gray-800 hover:bg-gray-800 hover:text-red-500 transition-colors text-base font-medium">Home</a> <a href="#aanbod" class="block px-6 py-4 border-b border-gray-800 hover:bg-gray-800 hover:text-red-500 transition-colors text-base font-medium">Aanbod</a> <a href="#diensten" class="block px-6 py-4 border-b border-gray-800 hover:bg-gray-800 hover:text-red-500 transition-colors text-base font-medium">Diensten</a> <a href="#over" class="block px-6 py-4 border-b border-gray-800 hover:bg-gray-800 hover:text-red-500 transition-colors text-base font-medium">Over Ons</a>
    <div class="border-b border-gray-800"><button id="locatiesToggle" class="w-full text-left px-6 py-4 hover:bg-gray-800 hover:text-red-500 flex justify-between items-center transition-colors text-base font-medium"> <span>Locaties</span> <span id="locatiesIcon" class="text-xl">+</span> </button>
     <div id="locatiesSubmenu" class="submenu bg-gray-800"><a href="#locatie-amsterdam" class="block pl-10 pr-6 py-3 hover:text-red-500 transition-colors border-b border-gray-700">Amsterdam</a> <a href="#locatie-heemskerk" class="block pl-10 pr-6 py-3 hover:text-red-500 transition-colors">Heemskerk</a>
     </div>
    </div><a href="#contact" class="block px-6 py-4 hover:bg-gray-800 hover:text-red-500 transition-colors text-base font-medium">Contact</a>
   </nav>
  </header><!-- HERO -->
  <section id="home" class="hero-bg text-white py-20 sm:py-32 relative overflow-hidden">
   <div class="absolute inset-0 opacity-10">
    <div class="absolute inset-0 bg-gradient-to-br from-red-500 to-transparent"></div>
   </div>
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="max-w-4xl mx-auto text-center">
     <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold mb-6 leading-tight">Betrouwbare Occasions &amp; Complete Autoservice</h1>
     <p class="text-lg sm:text-xl mb-10 text-gray-300 leading-relaxed max-w-3xl mx-auto">Kwaliteitsvolle tweedehands auto's, deskundige service en eerlijke prijzen. Van aankoop tot export, van APK tot onderhoud.</p>
     <div class="flex flex-col sm:flex-row gap-4 justify-center"><a href="#aanbod" class="inline-block bg-red-500 hover:bg-red-600 text-white font-bold py-4 px-10 rounded-lg transition-all transform hover:scale-105 text-lg shadow-lg">Aanbod bekijken</a> <a href="#contact" class="inline-block bg-transparent border-2 border-red-500 hover:bg-red-500 text-white font-bold py-4 px-10 rounded-lg transition-all text-lg">Contact opnemen</a>
     </div>
    </div>
   </div>
  </section><!-- Waarom Wij - Snelle Conversie -->
  <section class="bg-white py-12 sm:py-16 border-b-2 border-gray-100">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
     <div>
      <div class="text-4xl font-bold text-red-500 mb-2">
       10+
      </div>
      <p class="text-gray-700 font-medium">Jaar ervaring</p>
     </div>
     <div>
      <div class="text-4xl font-bold text-red-500 mb-2">
       2
      </div>
      <p class="text-gray-700 font-medium">Locaties</p>
     </div>
     <div>
      <div class="text-4xl font-bold text-red-500 mb-2">
       24/7
      </div>
      <p class="text-gray-700 font-medium">Sleepdienst</p>
     </div>
     <div>
      <div class="text-4xl font-bold text-red-500 mb-2">
       100%
      </div>
      <p class="text-gray-700 font-medium">Eerlijke prijzen</p>
     </div>
    </div>
   </div>
  </section><!-- ONS AANBOD -->
  <section id="aanbod" class="bg-gray-50 py-12 sm:py-16">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-10">
     <h2 class="text-3xl sm:text-4xl font-bold mb-3">Ons Aanbod</h2>
     <p class="text-gray-600 text-lg">Ontdek onze actuele voorraad met volledige RDW-gegevens</p>
    </div><!-- Filter Bar -->
    <div id="filterBar" class="mb-8"><!-- Filter Toggle Button (All Devices) --> <button id="filterToggleBtn" class="w-full bg-white border-2 border-gray-300 rounded-lg p-4 font-bold text-left flex justify-between items-center hover:border-red-500 transition-colors shadow-sm"> <span class="flex items-center gap-2">
       <svg class="w-5 h-5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
       </svg> Filters &amp; Zoeken </span> <span id="filterToggleIcon" class="text-2xl text-red-500">+</span> </button> <!-- Filter Container -->
     <div id="filterContainer" class="hidden bg-white border-2 border-gray-200 rounded-xl p-6 shadow-sm mt-4"><!-- Search Bar -->
      <div class="mb-6"><label for="searchInput" class="block font-bold mb-2 text-gray-900">Zoeken</label> <input type="text" id="searchInput" placeholder="Zoek op merk, model, brandstof..." class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none">
      </div><!-- Sort -->
      <div class="mb-6"><label for="sortSelect" class="block font-bold mb-2 text-gray-900">Sorteren</label> <select id="sortSelect" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none"> <option value="">Standaard</option> <option value="price-asc">Prijs: laag → hoog</option> <option value="price-desc">Prijs: hoog → laag</option> <option value="km-asc">Kilometerstand: laag → hoog</option> <option value="year-desc">Bouwjaar: nieuw → oud</option> <option value="efficiency">Zuinigheidsscore</option> <option value="alpha">Alfabetisch (merk)</option> </select>
      </div><!-- Filters Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!-- Prijs Filter -->
       <div><label class="block font-bold mb-2 text-gray-900">Prijs</label>
        <div class="space-y-2"><input type="range" id="priceMin" min="0" max="100000" step="1000" class="w-full"> <input type="range" id="priceMax" min="0" max="100000" step="1000" class="w-full">
         <div class="flex gap-2"><input type="number" id="priceMinInput" placeholder="Min" class="w-1/2 px-3 py-2 border border-gray-300 rounded text-sm"> <input type="number" id="priceMaxInput" placeholder="Max" class="w-1/2 px-3 py-2 border border-gray-300 rounded text-sm">
         </div>
        </div>
       </div><!-- Bouwjaar Filter -->
       <div><label class="block font-bold mb-2 text-gray-900">Bouwjaar</label>
        <div class="space-y-2"><input type="range" id="yearMin" min="1990" max="2024" step="1" class="w-full"> <input type="range" id="yearMax" min="1990" max="2024" step="1" class="w-full">
         <div class="flex gap-2"><input type="number" id="yearMinInput" placeholder="Min" class="w-1/2 px-3 py-2 border border-gray-300 rounded text-sm"> <input type="number" id="yearMaxInput" placeholder="Max" class="w-1/2 px-3 py-2 border border-gray-300 rounded text-sm">
         </div>
        </div>
       </div><!-- Kilometerstand Filter -->
       <div><label class="block font-bold mb-2 text-gray-900">Kilometerstand</label>
        <div class="space-y-2"><input type="range" id="kmMin" min="0" max="300000" step="10000" class="w-full"> <input type="range" id="kmMax" min="0" max="300000" step="10000" class="w-full">
         <div class="flex gap-2"><input type="number" id="kmMinInput" placeholder="Min" class="w-1/2 px-3 py-2 border border-gray-300 rounded text-sm"> <input type="number" id="kmMaxInput" placeholder="Max" class="w-1/2 px-3 py-2 border border-gray-300 rounded text-sm">
         </div>
        </div>
       </div><!-- Brandstof Filter -->
       <div><label for="brandstofFilter" class="block font-bold mb-2 text-gray-900">Brandstof</label> <select id="brandstofFilter" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none"> <option value="">Alle</option> </select>
       </div><!-- Transmissie Filter -->
       <div><label for="transmissieFilter" class="block font-bold mb-2 text-gray-900">Transmissie</label> <select id="transmissieFilter" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none"> <option value="">Alle</option> </select>
       </div><!-- Cilinderinhoud Filter -->
       <div><label class="block font-bold mb-2 text-gray-900">Cilinderinhoud</label>
        <div class="space-y-2"><input type="range" id="ccMin" min="0" max="5000" step="100" class="w-full"> <input type="range" id="ccMax" min="0" max="5000" step="100" class="w-full">
         <div class="flex gap-2"><input type="number" id="ccMinInput" placeholder="Min cc" class="w-1/2 px-3 py-2 border border-gray-300 rounded text-sm"> <input type="number" id="ccMaxInput" placeholder="Max cc" class="w-1/2 px-3 py-2 border border-gray-300 rounded text-sm">
         </div>
        </div>
       </div>
      </div><!-- Reset Button -->
      <div class="mt-6 flex justify-end"><button id="resetFilters" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition-colors"> Filters Resetten </button>
      </div>
     </div><!-- Results Count -->
     <div id="resultsCount" class="mt-4 text-center text-gray-600 font-medium"></div>
    </div>
    <div id="loadingCars" class="flex justify-center py-16">
     <div class="text-center">
      <div class="spinner mx-auto mb-4"></div>
      <p class="text-gray-600">Auto's worden geladen...</p>
     </div>
    </div>
    <div id="errorMessage" class="hidden bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded mb-6">
     <p class="font-bold">Fout bij laden</p>
     <p id="errorText" class="mt-1 text-sm"></p>
    </div>
    <div id="carsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
   </div>
  </section><!-- DIENSTEN -->
  <section id="diensten" class="bg-white py-12 sm:py-16">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl sm:text-4xl font-bold text-center mb-12">Onze Diensten</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
     <div class="bg-white p-6 rounded-xl border-2 border-gray-200 hover:border-red-500 transition-all shadow-sm hover:shadow-md">
      <div class="w-12 h-12 mb-4 text-red-500">
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-3">Verkoop Occasions</h3>
      <p class="text-gray-700 leading-relaxed mb-4">Kwaliteitsvolle tweedehands auto's tegen eerlijke prijzen. Snel wisselende voorraad.</p><a href="#aanbod" class="inline-block text-red-500 font-semibold hover:text-red-600">Bekijk aanbod →</a>
     </div>
     <div class="bg-white p-6 rounded-xl border-2 border-gray-200 hover:border-red-500 transition-all shadow-sm hover:shadow-md">
      <div class="w-12 h-12 mb-4 text-red-500">
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-3">Inkoop Auto's</h3>
      <p class="text-gray-700 leading-relaxed mb-4">Wij kopen uw auto direct in. Eerlijke prijs, snelle afhandeling.</p><a href="#contact" class="inline-block text-red-500 font-semibold hover:text-red-600">Neem contact op →</a>
     </div>
     <div class="bg-white p-6 rounded-xl border-2 border-gray-200 hover:border-red-500 transition-all shadow-sm hover:shadow-md">
      <div class="w-12 h-12 mb-4 text-red-500">
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-3">APK-keuring</h3>
      <p class="text-gray-700 leading-relaxed mb-4">Professionele APK-keuringen. Keuring duurt ongeveer 1 uur. Alleen op afspraak.</p><a href="#contact" class="inline-block text-red-500 font-semibold hover:text-red-600">Maak afspraak →</a>
     </div>
     <div class="bg-white p-6 rounded-xl border-2 border-gray-200 hover:border-red-500 transition-all shadow-sm hover:shadow-md">
      <div class="w-12 h-12 mb-4 text-red-500">
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-3">Reparatie &amp; Onderhoud</h3>
      <p class="text-gray-700 leading-relaxed mb-4">Van oliebeurt tot complete motorrevision. Alles onder één dak. Alleen op afspraak.</p><a href="#contact" class="inline-block text-red-500 font-semibold hover:text-red-600">Meer info →</a>
     </div>
     <div class="bg-white p-6 rounded-xl border-2 border-gray-200 hover:border-red-500 transition-all shadow-sm hover:shadow-md">
      <div class="w-12 h-12 mb-4 text-red-500">
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-3">Sleepdienst 24/7</h3>
      <p class="text-gray-700 leading-relaxed mb-4">Altijd bereikbaar door heel Nederland. Bel direct <strong class="text-red-500">06 57 16 03 95</strong></p><a href="tel:+31657160395" class="inline-block text-red-500 font-semibold hover:text-red-600">Direct bellen →</a>
     </div>
     <div class="bg-white p-6 rounded-xl border-2 border-gray-200 hover:border-red-500 transition-all shadow-sm hover:shadow-md">
      <div class="w-12 h-12 mb-4 text-red-500">
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-3">Auto Exporteren</h3>
      <p class="text-gray-700 leading-relaxed mb-4">Volledige export-ondersteuning inclusief exportplaten en documentatie.</p><a href="#contact" class="inline-block text-red-500 font-semibold hover:text-red-600">Meer weten →</a>
     </div>
     <div class="bg-white p-6 rounded-xl border-2 border-gray-200 hover:border-red-500 transition-all shadow-sm hover:shadow-md">
      <div class="w-12 h-12 mb-4 text-red-500">
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-3">Verhuisvervoer</h3>
      <p class="text-gray-700 leading-relaxed mb-4">Betrouwbare verhuisservice in Amsterdam, Heemskerk en heel Nederland.</p><a href="#contact" class="inline-block text-red-500 font-semibold hover:text-red-600">Offerte aanvragen →</a>
     </div>
    </div>
   </div>
  </section><!-- OVER ONS -->
  <section id="over" class="bg-gradient-to-br from-gray-50 to-white py-16 sm:py-24 relative overflow-hidden"><!-- Background decorative elements -->
   <div class="absolute top-0 left-0 w-64 h-64 bg-red-500 opacity-5 rounded-full -translate-x-1/2 -translate-y-1/2"></div>
   <div class="absolute bottom-0 right-0 w-96 h-96 bg-red-500 opacity-5 rounded-full translate-x-1/3 translate-y-1/3"></div>
   <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"><!-- Header -->
    <div class="text-center mb-16">
     <h2 class="text-4xl sm:text-5xl font-bold mb-4"><span class="text-gray-900">Over</span> <span class="text-red-500">Meyers Automotive</span></h2>
     <div class="w-24 h-1 bg-red-500 mx-auto mb-6"></div>
     <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">Uw betrouwbare partner voor automotive services sinds meer dan 10 jaar</p>
    </div><!-- Main Story -->
    <div class="bg-white rounded-2xl shadow-xl p-8 sm:p-12 mb-12 border border-gray-100">
     <div class="prose prose-lg max-w-none">
      <p class="text-gray-700 leading-relaxed text-lg mb-6"><strong class="text-red-500 text-xl">Meyers Automotive</strong> is ontstaan vanuit een passie voor auto's en een toewijding aan hoogwaardige service. Met meer dan 10 jaar ervaring in de automotive branche hebben wij ons ontwikkeld tot een totaalpartner waar u kunt vertrouwen voor al uw automotive behoeften.</p>
      <p class="text-gray-700 leading-relaxed text-lg mb-6">Of u nu op zoek bent naar een betrouwbare occasion, hulp nodig heeft met export, een APK-keuring wilt laten uitvoeren, of uw auto moet laten repareren – wij staan voor u klaar met deskundig advies en eerlijke prijzen. Onze twee vestigingen in <strong>Amsterdam</strong> en <strong>Heemskerk</strong> zijn volledig uitgerust om u van dienst te zijn.</p>
      <p class="text-gray-700 leading-relaxed text-lg">Wat ons onderscheidt is onze persoonlijke benadering. Bij Meyers Automotive bent u geen nummer, maar een gewaardeerde klant. We nemen de tijd om uw wensen te begrijpen en bieden oplossingen die bij u passen. Transparantie, eerlijkheid en kwaliteit staan bij ons altijd voorop.</p>
     </div>
    </div><!-- Core Values -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
     <div class="text-center group">
      <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform shadow-lg">
       <svg class="w-10 h-10 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
       </svg>
      </div>
      <h3 class="text-2xl font-bold mb-3 text-gray-900">Betrouwbaar</h3>
      <p class="text-gray-600 leading-relaxed">Meer dan 10 jaar ervaring in de automotive branche. Gecertificeerd en erkend met KVK nummer 84030712.</p>
     </div>
     <div class="text-center group">
      <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform shadow-lg">
       <svg class="w-10 h-10 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
       </svg>
      </div>
      <h3 class="text-2xl font-bold mb-3 text-gray-900">Transparant</h3>
      <p class="text-gray-600 leading-relaxed">Eerlijke prijzen zonder verborgen kosten. Offerte vooraf voor alle werkzaamheden. Wat u ziet, is wat u krijgt.</p>
     </div>
     <div class="text-center group">
      <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform shadow-lg">
       <svg class="w-10 h-10 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
       </svg>
      </div>
      <h3 class="text-2xl font-bold mb-3 text-gray-900">Persoonlijk</h3>
      <p class="text-gray-600 leading-relaxed">Elke klant verdient persoonlijke aandacht. We luisteren naar uw wensen en bieden oplossingen op maat.</p>
     </div>
    </div><!-- Stats -->
    <div class="bg-gradient-to-r from-red-500 to-red-600 rounded-2xl p-8 sm:p-12 text-white shadow-2xl">
     <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
      <div>
       <div class="text-5xl sm:text-6xl font-bold mb-2">
        10+
       </div>
       <p class="text-red-100 text-sm sm:text-base font-medium">Jaar Ervaring</p>
      </div>
      <div>
       <div class="text-5xl sm:text-6xl font-bold mb-2">
        2
       </div>
       <p class="text-red-100 text-sm sm:text-base font-medium">Locaties</p>
      </div>
      <div>
       <div class="text-5xl sm:text-6xl font-bold mb-2">
        24/7
       </div>
       <p class="text-red-100 text-sm sm:text-base font-medium">Sleepdienst</p>
      </div>
      <div>
       <div class="text-5xl sm:text-6xl font-bold mb-2">
        100%
       </div>
       <p class="text-red-100 text-sm sm:text-base font-medium">Klanttevredenheid</p>
      </div>
     </div>
    </div><!-- Contact Info Card -->
    <div class="mt-12 bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
     <h3 class="text-2xl font-bold mb-6 text-center text-gray-900">Bedrijfsgegevens</h3>
     <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
      <div class="text-center sm:text-left">
       <p class="text-sm text-gray-500 mb-1">KVK Nummer</p>
       <p class="font-bold text-gray-900">84030712</p>
      </div>
      <div class="text-center sm:text-left">
       <p class="text-sm text-gray-500 mb-1">Telefoon</p><a href="tel:+31657160395" class="font-bold text-red-500 hover:text-red-600">+31 6 57 16 03 95</a>
      </div>
      <div class="text-center sm:text-left">
       <p class="text-sm text-gray-500 mb-1">E-mail</p><a href="mailto:Meyersautomotives@gmail.com" class="font-bold text-red-500 hover:text-red-600 break-all">Meyersautomotives@gmail.com</a>
      </div>
      <div class="text-center sm:text-left">
       <p class="text-sm text-gray-500 mb-1">Openingstijden</p>
       <p class="font-bold text-gray-900">Ma-Za 09:00-18:00</p>
       <p class="font-bold text-gray-900">Zo 10:00-16:00</p>
      </div>
     </div>
    </div>
   </div>
  </section><!-- LOCATIES -->
  <section class="bg-white py-12 sm:py-16">
   <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl sm:text-4xl font-bold text-center mb-10">Onze Locaties</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
     <div id="locatie-amsterdam" class="bg-gray-50 p-6 sm:p-8 rounded-xl border-2 border-gray-200">
      <h3 class="text-2xl font-bold mb-4 text-red-500">Amsterdam</h3>
      <div class="space-y-3">
       <div>
        <p class="font-bold text-gray-900">Adres</p>
        <p class="text-gray-700">Ibisweg 3-5</p>
        <p class="text-gray-700">1033RA Amsterdam</p>
       </div>
       <div>
        <p class="font-bold text-gray-900">Openingstijden</p>
        <p class="text-gray-700">Ma-Za: 09:00 - 18:00</p>
        <p class="text-gray-700">Zondag: 10:00 - 16:00</p>
       </div>
       <div>
        <p class="font-bold text-gray-900">Telefoon</p><a href="tel:+31657160395" class="text-red-500 hover:text-red-600 font-medium text-lg">+31 6 57 16 03 95</a>
       </div>
      </div>
     </div>
     <div id="locatie-heemskerk" class="bg-gray-50 p-6 sm:p-8 rounded-xl border-2 border-gray-200">
      <h3 class="text-2xl font-bold mb-4 text-red-500">Heemskerk</h3>
      <div class="space-y-3">
       <div>
        <p class="font-bold text-gray-900">Adres</p>
        <p class="text-gray-700">Kerkweg 152</p>
        <p class="text-gray-700">1968KL Heemskerk</p>
       </div>
       <div>
        <p class="font-bold text-gray-900">Openingstijden</p>
        <p class="text-gray-700">Ma-Za: 09:00 - 18:00</p>
        <p class="text-gray-700">Zondag: 10:00 - 16:00</p>
       </div>
       <div>
        <p class="font-bold text-gray-900">Telefoon</p><a href="tel:+31657160395" class="text-red-500 hover:text-red-600 font-medium text-lg">+31 6 57 16 03 95</a>
       </div>
      </div>
     </div>
    </div>
   </div>
  </section><!-- CONTACT -->
  <section id="contact" class="bg-gray-50 py-12 sm:py-16">
   <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl sm:text-4xl font-bold text-center mb-10">Contact</h2>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
     <div class="bg-white p-6 sm:p-8 rounded-xl border-2 border-gray-200">
      <h3 class="text-xl font-bold mb-6">Contactgegevens</h3>
      <div class="space-y-4">
       <div>
        <p class="font-bold mb-1 text-gray-900">Telefoon</p><a href="tel:+31657160395" class="text-red-500 hover:text-red-600 text-xl font-bold">+31 6 57 16 03 95</a>
       </div>
       <div>
        <p class="font-bold mb-1 text-gray-900">E-mail</p><a href="mailto:Meyersautomotives@gmail.com" class="text-red-500 hover:text-red-600 font-medium">Meyersautomotives@gmail.com</a>
       </div>
       <div>
        <p class="font-bold mb-1 text-gray-900">Openingstijden</p>
        <p class="text-gray-700">Ma-Za: 09:00 - 18:00</p>
        <p class="text-gray-700">Zondag: 10:00 - 16:00</p>
       </div>
      </div>
     </div>
     <div class="bg-white p-6 sm:p-8 rounded-xl border-2 border-gray-200">
      <h3 class="text-xl font-bold mb-6">Stuur een bericht</h3>
      <form id="contactForm" class="space-y-4">
       <div id="formMessage" class="hidden p-4 rounded mb-4"></div>
       <div><label for="name" class="block font-medium mb-2">Naam</label> <input type="text" id="name" name="name" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-200">
       </div>
       <div><label for="email" class="block font-medium mb-2">E-mailadres</label> <input type="email" id="email" name="email" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-200">
       </div>
       <div><label for="message" class="block font-medium mb-2">Bericht</label> <textarea id="message" name="message" rows="4" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-200"></textarea>
       </div><button type="submit" class="w-full bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg transition-colors">Verzenden</button>
      </form>
     </div>
    </div>
   </div>
  </section><!-- ACCORDIONS -->
  <section class="bg-white py-12 sm:py-16 border-t-2 border-gray-100">
   <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="bg-white rounded-lg border-2 border-gray-200 mb-6 overflow-hidden"><button class="accordion-trigger w-full flex justify-between items-center p-6 text-left font-bold text-lg hover:bg-gray-50 transition-colors" data-target="voorwaarden"> <span>Algemene Voorwaarden</span> <span class="text-2xl font-bold text-red-500">+</span> </button>
     <div id="voorwaarden" class="accordion-content">
      <div class="p-6 pt-0 space-y-4 text-gray-700 text-sm">
       <div>
        <h4 class="font-bold mb-2 text-base">Verkoop Voertuigen</h4>
        <ul class="list-disc list-inside space-y-1">
         <li>Alle voertuigen worden verkocht zoals gezien</li>
         <li>Proefritten op afspraak en onder begeleiding</li>
         <li>Geen garantie tenzij schriftelijk overeengekomen</li>
         <li>Koper controleert staat voor aankoop</li>
        </ul>
       </div>
       <div>
        <h4 class="font-bold mb-2 text-base">Betaling</h4>
        <ul class="list-disc list-inside space-y-1">
         <li>Betaling: contant, bank of PIN</li>
         <li>Voertuig blijft eigendom tot volledige betaling</li>
         <li>Bij financiering gelden aanvullende voorwaarden</li>
        </ul>
       </div>
       <div>
        <h4 class="font-bold mb-2 text-base">Export</h4>
        <ul class="list-disc list-inside space-y-1">
         <li>Exportdocumenten op aanvraag</li>
         <li>Koper verantwoordelijk voor importregels</li>
         <li>Ondersteuning, geen aansprakelijkheid bij weigering</li>
        </ul>
       </div>
       <div>
        <h4 class="font-bold mb-2 text-base">Reparatie &amp; APK</h4>
        <ul class="list-disc list-inside space-y-1">
         <li>Offerte vooraf voor alle werkzaamheden</li>
         <li>Extra kosten alleen na goedkeuring</li>
         <li>Garantie: 3 maanden of 5.000 km</li>
         <li>Alleen op afspraak</li>
        </ul>
       </div>
       <div>
        <h4 class="font-bold mb-2 text-base">Disclaimer</h4>
        <p class="text-sm">Alle informatie op deze website is met de grootst mogelijke zorgvuldigheid samengesteld. Desondanks kunnen wij niet garanderen dat alle gegevens te allen tijde volledig, juist of actueel zijn. Voor correcte en actuele voertuiginformatie verzoeken wij u vriendelijk contact met ons op te nemen via <a href="tel:+31657160395" class="text-red-500 hover:underline">+31 6 57 16 03 95</a> of <a href="mailto:Meyersautomotives@gmail.com" class="text-red-500 hover:underline">Meyersautomotives@gmail.com</a>. Meyers Automotive aanvaardt geen aansprakelijkheid voor eventuele onvolkomenheden of onjuistheden in de gepresenteerde informatie.</p>
       </div>
      </div>
     </div>
    </div>
    <div class="bg-white rounded-lg border-2 border-gray-200 overflow-hidden"><button class="accordion-trigger w-full flex justify-between items-center p-6 text-left font-bold text-lg hover:bg-gray-50 transition-colors" data-target="privacy"> <span>Privacy Policy</span> <span class="text-2xl font-bold text-red-500">+</span> </button>
     <div id="privacy" class="accordion-content">
      <div class="p-6 pt-0 space-y-4 text-gray-700 text-sm">
       <div>
        <h4 class="font-bold mb-2 text-base">Gegevensverzameling</h4>
        <p>Meyers Automotive verwerkt persoonsgegevens alleen voor communicatie, aankoop, verkoop of service. Wij behandelen uw gegevens vertrouwelijk volgens de AVG.</p>
       </div>
       <div>
        <h4 class="font-bold mb-2 text-base">Welke gegevens?</h4>
        <ul class="list-disc list-inside space-y-1">
         <li>Naam en contactgegevens</li>
         <li>Kenteken en voertuiggegevens</li>
         <li>Factuur- en betaalgegevens</li>
         <li>Communicatiegeschiedenis</li>
        </ul>
       </div>
       <div>
        <h4 class="font-bold mb-2 text-base">Uw rechten</h4>
        <ul class="list-disc list-inside space-y-1">
         <li>Inzage in persoonsgegevens</li>
         <li>Correctie van onjuiste gegevens</li>
         <li>Verwijdering (tenzij wettelijk verplicht)</li>
         <li>Beperking en bezwaar verwerking</li>
        </ul>
       </div>
       <div>
        <h4 class="font-bold mb-2 text-base">Contact</h4>
        <p>Voor vragen: <a href="mailto:Meyersautomotives@gmail.com" class="text-red-500 hover:underline">Meyersautomotives@gmail.com</a> of <a href="tel:+31657160395" class="text-red-500 hover:underline">+31 6 57 16 03 95</a></p>
       </div>
      </div>
     </div>
    </div>
   </div>
  </section><!-- Footer -->
  <footer class="bg-black text-white py-10">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
     <div>
      <h4 class="text-lg font-bold mb-3 text-red-500">Meyers Automotive</h4>
      <p class="text-gray-400 text-sm mb-2">Uw betrouwbare partner</p>
      <p class="text-gray-400 text-sm">KVK: 84030712</p>
     </div>
     <div>
      <h4 class="text-lg font-bold mb-3">Menu</h4>
      <div class="space-y-2 text-sm"><a href="#home" class="block text-gray-400 hover:text-red-500">Home</a> <a href="#aanbod" class="block text-gray-400 hover:text-red-500">Ons Aanbod</a> <a href="#diensten" class="block text-gray-400 hover:text-red-500">Diensten</a> <a href="#over" class="block text-gray-400 hover:text-red-500">Over Ons</a>
      </div>
     </div>
     <div>
      <h4 class="text-lg font-bold mb-3">Locaties</h4>
      <div class="space-y-2 text-sm">
       <div>
        <p class="font-medium text-red-500">Amsterdam</p>
        <p class="text-gray-400">Ibisweg 3-5, 1033RA</p>
       </div>
       <div>
        <p class="font-medium text-red-500">Heemskerk</p>
        <p class="text-gray-400">Kerkweg 152, 1968KL</p>
       </div>
      </div>
     </div>
     <div>
      <h4 class="text-lg font-bold mb-3">Contact</h4>
      <div class="space-y-2 text-sm">
       <p><a href="tel:+31657160395" class="text-gray-400 hover:text-red-500">+31 6 57 16 03 95</a></p>
       <p><a href="mailto:Meyersautomotives@gmail.com" class="text-gray-400 hover:text-red-500">Meyersautomotives@gmail.com</a></p>
       <p class="text-gray-400 mt-3">Ma-Za: 09:00-18:00<br>
        Zo: 10:00-16:00</p>
      </div>
     </div>
    </div>
    <div class="border-t border-gray-800 pt-6 text-center text-sm text-gray-400">
     <p>© 2024 Meyers Automotive. Alle rechten voorbehouden.</p>
    </div>
   </div>
  </footer><!-- Modal -->
  <div id="carModal" class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 overflow-y-auto">
   <div class="min-h-full flex items-center justify-center p-4">
    <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto relative"><button id="closeModal" class="sticky top-4 right-4 float-right bg-red-500 hover:bg-red-600 active:bg-red-700 text-white w-12 h-12 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-3xl sm:text-2xl font-bold z-10 shadow-lg">×</button>
     <div id="modalContent"></div>
    </div>
   </div>
  </div>
  <script>
    const SHEET_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQjjj1jUUsSzJBMG8Kpy-d3PxysCCiGbyz561wWljymwvveQHL_Cy501dz86JD-9UoWyyE6vK34TMb8/pub?output=csv';

    const RDW_API = {
      basis: 'https://opendata.rdw.nl/resource/m9d7-ebf2.json',
      vermogen: 'https://opendata.rdw.nl/resource/8ys7-d773.json',
      gewicht: 'https://opendata.rdw.nl/resource/vezp-zz2k.json'
    };

    let allCarsData = [];
    let allCarsWithRDW = [];
    let filterConfig = {
      search: '',
      priceMin: 0,
      priceMax: 100000,
      yearMin: 1990,
      yearMax: 2024,
      kmMin: 0,
      kmMax: 300000,
      ccMin: 0,
      ccMax: 5000,
      brandstof: '',
      transmissie: '',
      sort: ''
    };

    // Mobile menu
    document.getElementById('mobileMenuBtn').addEventListener('click', () => {
      document.getElementById('mobileNav').classList.toggle('hidden');
    });

    document.querySelectorAll('#mobileNav a').forEach(link => {
      link.addEventListener('click', () => {
        document.getElementById('mobileNav').classList.add('hidden');
      });
    });

    // Locaties submenu
    document.getElementById('locatiesToggle').addEventListener('click', () => {
      const submenu = document.getElementById('locatiesSubmenu');
      const icon = document.getElementById('locatiesIcon');
      submenu.classList.toggle('active');
      icon.textContent = submenu.classList.contains('active') ? '−' : '+';
    });

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Contact form
    document.getElementById('contactForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const msg = document.getElementById('formMessage');
      msg.className = 'p-4 rounded mb-4 bg-green-50 text-green-700 border-l-4 border-green-600';
      msg.textContent = 'Bedankt voor uw bericht! We nemen spoedig contact op.';
      msg.classList.remove('hidden');
      this.reset();
      setTimeout(() => msg.classList.add('hidden'), 5000);
    });

    // Accordion
    document.querySelectorAll('.accordion-trigger').forEach(button => {
      button.addEventListener('click', function() {
        const targetId = this.getAttribute('data-target');
        const content = document.getElementById(targetId);
        const icon = this.querySelector('span:last-child');
        
        content.classList.toggle('active');
        icon.textContent = content.classList.contains('active') ? '−' : '+';
      });
    });

    // Format functions
    function formatPrice(prijs) {
      // Check if price exists and is valid
      if (!prijs || prijs === '' || prijs === '0' || prijs === 0) {
        return 'Prijs onbekend';
      }
      
      // Remove any existing currency symbols, spaces, or dots used as thousand separators
      let cleanPrice = String(prijs).replace(/[€\s.]/g, '').replace(',', '.');
      const num = parseFloat(cleanPrice);
      
      if (isNaN(num) || num === 0) {
        return 'Prijs onbekend';
      }
      return '€ ' + new Intl.NumberFormat('nl-NL').format(num);
    }

    function formatKm(km) {
      const num = parseInt(km) || 0;
      return new Intl.NumberFormat('nl-NL').format(num) + ' km';
    }

    // fetchCarData
    async function fetchCarData(kenteken) {
      const clean = kenteken.replace(/[-\s]/g, '').toUpperCase();
      
      try {
        const [basis, vermogen, gewicht] = await Promise.all([
          fetch(`${RDW_API.basis}?kenteken=${clean}`).then(r => r.json()),
          fetch(`${RDW_API.vermogen}?kenteken=${clean}`).then(r => r.json()),
          fetch(`${RDW_API.gewicht}?kenteken=${clean}`).then(r => r.json())
        ]);
        
        const b = basis[0] || {};
        const v = vermogen[0] || {};
        const g = gewicht[0] || {};
        
        // Extract bouwjaar from datum_eerste_toelating (format: YYYYMMDD)
        let bouwjaar = 'Bouwjaar onbekend';
        if (b.datum_eerste_toelating) {
          const jaar = b.datum_eerste_toelating.substring(0, 4);
          if (jaar && !isNaN(jaar)) {
            bouwjaar = jaar;
          }
        }
        
        return {
          merk: b.merk || '-',
          model: b.handelsbenaming || '-',
          brandstof: b.brandstof_omschrijving || '-',
          transmissie: b.transmissie_omschrijving || b.inrichting || '-',
          bouwjaar: bouwjaar,
          cilinderinhoud: b.cilinderinhoud ? `${b.cilinderinhoud} cm³` : '-',
          vermogen: v.vermogen_brom_snorfiets || v.maximum_vermogen || '-',
          gewicht: g.massa_ledig_voertuig ? `${g.massa_ledig_voertuig} kg` : '-',
          kleur: b.eerste_kleur || '-',
          carrosserie: b.carrosserie || b.voertuigsoort || '-'
        };
      } catch (error) {
        console.error(`RDW fout ${kenteken}:`, error);
        return null;
      }
    }

    // renderCars
    function renderCars(car, rdw) {
      const card = document.createElement('div');
      card.className = 'bg-white rounded-xl border-2 border-gray-200 overflow-hidden hover:border-red-500 hover:shadow-xl transition-all cursor-pointer';
      
      const available = car.Beschikbaar?.toLowerCase() === 'ja';
      const favorite = car.Favoriet?.toLowerCase() === 'ja';
      
      const foto1 = car['Foto 1 – Voorkant'] || '';
      
      card.innerHTML = `
        <div class="relative bg-gray-100 h-56 sm:h-48 flex items-center justify-center overflow-hidden">
          ${foto1 ? `<img src="${foto1}" alt="${car.Kenteken}" class="w-full h-full object-cover" onerror="this.parentElement.innerHTML='<svg class=\\'w-24 h-24 text-gray-400\\' xmlns=\\'http://www.w3.org/2000/svg\\' fill=\\'none\\' viewBox=\\'0 0 24 24\\' stroke=\\'currentColor\\'><path stroke-linecap=\\'round\\' stroke-linejoin=\\'round\\' stroke-width=\\'1.5\\' d=\\'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4\\'/></svg>'">` : '<svg class="w-24 h-24 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/></svg>'}
          ${favorite ? '<div class="badge-favoriet absolute top-3 right-3 text-xs sm:text-sm">FAVORIET</div>' : ''}
          ${!available ? '<div class="absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center"><div class="badge-verkocht text-sm sm:text-base">VERKOCHT</div></div>' : ''}
        </div>
        
        <div class="p-4 sm:p-5">
          <div class="mb-3">
            <div class="text-lg sm:text-xl font-bold font-mono mb-1">${car.Kenteken}</div>
            ${rdw ? `<div class="text-sm text-gray-600 font-medium">${rdw.merk} ${rdw.model}</div>` : '<div class="text-xs text-gray-500">RDW laden...</div>'}
          </div>
          
          <div class="grid grid-cols-2 gap-2 sm:gap-3 mb-4 text-sm">
            <div class="bg-gray-50 p-2.5 sm:p-3 rounded-lg">
              <p class="text-xs text-gray-500 mb-0.5">Prijs</p>
              <p class="font-bold text-red-500 text-sm sm:text-base">${formatPrice(car.Prijs)}</p>
            </div>
            
            <div class="bg-gray-50 p-2.5 sm:p-3 rounded-lg">
              <p class="text-xs text-gray-500 mb-0.5">Kilometerstand</p>
              <p class="font-bold text-sm sm:text-base">${formatKm(car.Kilometerstand)}</p>
            </div>
            
            <div class="bg-gray-50 p-2.5 sm:p-3 rounded-lg">
              <p class="text-xs text-gray-500 mb-0.5">Bouwjaar</p>
              <p class="font-bold text-sm sm:text-base">${rdw && rdw.bouwjaar ? rdw.bouwjaar : (car.Bouwjaar || 'Onbekend')}</p>
            </div>
            
            <div class="bg-gray-50 p-2.5 sm:p-3 rounded-lg">
              <p class="text-xs text-gray-500 mb-0.5">Locatie</p>
              <p class="font-bold text-sm sm:text-base">${car.Locatie || '-'}</p>
            </div>
          </div>
          
          <button class="w-full bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-3 sm:py-2.5 px-4 rounded-lg transition-colors text-sm sm:text-base" onclick="openCarDetail('${car.Kenteken}')">
            Meer details
          </button>
        </div>
      `;
      
      return card;
    }

    // openCarDetail
    async function openCarDetail(kenteken) {
      const car = allCarsData.find(c => c.Kenteken === kenteken);
      if (!car) return;
      
      const modal = document.getElementById('carModal');
      const content = document.getElementById('modalContent');
      
      content.innerHTML = '<div class="p-12 text-center"><div class="spinner mx-auto mb-4"></div><p class="text-gray-600">Details laden...</p></div>';
      modal.classList.remove('hidden');
      
      const rdw = await fetchCarData(kenteken);
      const available = car.Beschikbaar?.toLowerCase() === 'ja';
      const favorite = car.Favoriet?.toLowerCase() === 'ja';
      
      const photos = [];
      const photoKeys = [
        'Foto 1 – Voorkant',
        'Foto 2 – Linker zijkant',
        'Foto 3 �� Achterkant',
        'Foto 4 – Rechter zijkant',
        'Foto 5 – Interieur voor',
        'Foto 6 – Interieur achter',
        'Foto 7 – Dashboard',
        'Foto 8 – Stoelen/Details',
        'Foto 9 – Motorruimte',
        'Foto 10 – Kofferbak',
        'Foto 11 – Detail 1',
        'Foto 12 – Detail 2',
        'Foto 13 – Detail 3',
        'Foto 14 – Detail 4',
        'Foto 15 – Detail 5'
      ];
      for (const key of photoKeys) {
        if (car[key] && car[key].trim()) {
          photos.push(car[key].trim());
        }
      }
      
      let galleryHTML = '';
      if (photos.length > 0) {
        galleryHTML = `
          <div class="relative bg-gray-900">
            <div id="gallery" class="gallery-container flex overflow-x-auto snap-x snap-mandatory">
              ${photos.map((photo, idx) => `
                <div class="gallery-item flex-shrink-0 w-full h-72 sm:h-80 md:h-96 flex items-center justify-center bg-gray-100">
                  <img src="${photo}" alt="Foto ${idx + 1}" class="w-full h-full object-cover" onerror="this.parentElement.innerHTML='<svg class=\\'w-32 h-32 text-gray-400\\' xmlns=\\'http://www.w3.org/2000/svg\\' fill=\\'none\\' viewBox=\\'0 0 24 24\\' stroke=\\'currentColor\\'><path stroke-linecap=\\'round\\' stroke-linejoin=\\'round\\' stroke-width=\\'1.5\\' d=\\'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4\\'/></svg>'">
                </div>
              `).join('')}
            </div>
            <div class="absolute bottom-4 left-0 right-0 flex justify-center gap-1.5 sm:gap-2 px-4">
              ${photos.map((_, idx) => `<div class="gallery-dot w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-white opacity-50 cursor-pointer transition-opacity" data-index="${idx}"></div>`).join('')}
            </div>
            ${favorite ? '<div class="badge-favoriet absolute top-3 right-3 text-xs sm:text-sm">FAVORIET</div>' : ''}
            ${!available ? '<div class="absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center"><div class="badge-verkocht text-lg sm:text-xl">VERKOCHT</div></div>' : ''}
          </div>
        `;
      } else {
        galleryHTML = `
          <div class="relative bg-gray-100 h-64 sm:h-80 flex items-center justify-center">
            <svg class="w-32 h-32 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/></svg>
            ${favorite ? '<div class="badge-favoriet absolute top-3 right-3">FAVORIET</div>' : ''}
            ${!available ? '<div class="absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center"><div class="badge-verkocht text-xl">VERKOCHT</div></div>' : ''}
          </div>
        `;
      }
      
      content.innerHTML = `
        ${galleryHTML}
        
        <div class="p-5 sm:p-6 lg:p-8">
          <div class="mb-6 pb-6 border-b-2 border-gray-200">
            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 mb-2">
              <div class="flex-1">
                <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold font-mono mb-2">${car.Kenteken}</h2>
                ${rdw ? `<p class="text-base sm:text-lg lg:text-xl text-gray-600 font-medium">${rdw.merk} ${rdw.model}</p>` : ''}
              </div>
              <div class="sm:text-right">
                <div class="text-xl sm:text-2xl lg:text-3xl font-bold text-red-500">${formatPrice(car.Prijs)}</div>
                <p class="text-sm sm:text-base text-gray-600 mt-1 font-medium">${car.Locatie || '-'}</p>
              </div>
            </div>
          </div>
          
          <div class="mb-6">
            <h3 class="text-base sm:text-lg font-bold mb-3 text-red-500">Basisgegevens</h3>
            <div class="grid grid-cols-2 sm:grid-cols-3 gap-2.5 sm:gap-3">
              <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                <p class="text-xs text-gray-500 mb-1">Kilometerstand</p>
                <p class="font-bold text-sm sm:text-base">${formatKm(car.Kilometerstand)}</p>
              </div>
              <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                <p class="text-xs text-gray-500 mb-1">Bouwjaar</p>
                <p class="font-bold text-sm sm:text-base">${rdw && rdw.bouwjaar ? rdw.bouwjaar : (car.Bouwjaar || 'Onbekend')}</p>
              </div>
              <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                <p class="text-xs text-gray-500 mb-1">Locatie</p>
                <p class="font-bold text-sm sm:text-base">${car.Locatie || '-'}</p>
              </div>
              <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                <p class="text-xs text-gray-500 mb-1">Status</p>
                <p class="font-bold text-sm sm:text-base">${available ? 'Beschikbaar' : 'Verkocht'}</p>
              </div>
            </div>
          </div>
          
          ${rdw && (rdw.merk !== '-' || rdw.model !== '-' || rdw.brandstof !== '-') ? `
            <div class="mb-6">
              <h3 class="text-base sm:text-lg font-bold mb-3 text-red-500">RDW Voertuiggegevens</h3>
              <div class="grid grid-cols-2 sm:grid-cols-3 gap-2.5 sm:gap-3">
                ${rdw.merk !== '-' ? `
                <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                  <p class="text-xs text-gray-500 mb-1">Merk</p>
                  <p class="font-bold text-sm sm:text-base">${rdw.merk}</p>
                </div>` : ''}
                ${rdw.model !== '-' ? `
                <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                  <p class="text-xs text-gray-500 mb-1">Model</p>
                  <p class="font-bold text-sm sm:text-base">${rdw.model}</p>
                </div>` : ''}
                ${rdw.bouwjaar !== '-' ? `
                <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                  <p class="text-xs text-gray-500 mb-1">Bouwjaar</p>
                  <p class="font-bold text-sm sm:text-base">${rdw.bouwjaar}</p>
                </div>` : ''}
                ${rdw.brandstof !== '-' ? `
                <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                  <p class="text-xs text-gray-500 mb-1">Brandstof</p>
                  <p class="font-bold text-sm sm:text-base">${rdw.brandstof}</p>
                </div>` : ''}
                ${rdw.transmissie !== '-' ? `
                <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                  <p class="text-xs text-gray-500 mb-1">Transmissie</p>
                  <p class="font-bold text-sm sm:text-base">${rdw.transmissie}</p>
                </div>` : ''}
                ${rdw.cilinderinhoud !== '-' ? `
                <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                  <p class="text-xs text-gray-500 mb-1">Cilinderinhoud</p>
                  <p class="font-bold text-sm sm:text-base">${rdw.cilinderinhoud}</p>
                </div>` : ''}
                ${rdw.kleur !== '-' ? `
                <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                  <p class="text-xs text-gray-500 mb-1">Kleur</p>
                  <p class="font-bold text-sm sm:text-base">${rdw.kleur}</p>
                </div>` : ''}
                ${rdw.carrosserie !== '-' ? `
                <div class="bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200">
                  <p class="text-xs text-gray-500 mb-1">Carrosserie</p>
                  <p class="font-bold text-sm sm:text-base">${rdw.carrosserie}</p>
                </div>` : ''}
              </div>
            </div>
          ` : ''}
          
          <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
            <a href="tel:+31657160395" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-4 sm:py-3 px-6 rounded-lg text-center transition-colors text-base sm:text-lg shadow-lg">
              Bel ons direct
            </a>
            <a href="#contact" onclick="document.getElementById('carModal').classList.add('hidden')" class="flex-1 bg-black hover:bg-gray-800 active:bg-gray-900 text-white font-bold py-4 sm:py-3 px-6 rounded-lg text-center transition-colors text-base sm:text-lg shadow-lg">
              Stuur bericht
            </a>
          </div>
        </div>
      `;
      
      if (photos.length > 1) {
        const gallery = document.getElementById('gallery');
        const dots = document.querySelectorAll('.gallery-dot');
        
        gallery.addEventListener('scroll', () => {
          const scrollLeft = gallery.scrollLeft;
          const width = gallery.offsetWidth;
          const currentIndex = Math.round(scrollLeft / width);
          
          dots.forEach((dot, idx) => {
            dot.style.opacity = idx === currentIndex ? '1' : '0.5';
          });
        });
        
        dots.forEach((dot, idx) => {
          dot.addEventListener('click', () => {
            gallery.scrollTo({ left: idx * gallery.offsetWidth, behavior: 'smooth' });
          });
        });
      }
    }

    document.getElementById('closeModal').addEventListener('click', () => {
      document.getElementById('carModal').classList.add('hidden');
    });

    document.getElementById('carModal').addEventListener('click', (e) => {
      if (e.target.id === 'carModal') {
        document.getElementById('carModal').classList.add('hidden');
      }
    });

    // loadCars
    async function loadCars() {
      const loading = document.getElementById('loadingCars');
      const error = document.getElementById('errorMessage');
      const errorText = document.getElementById('errorText');
      const grid = document.getElementById('carsGrid');
      
      try {
        Papa.parse(SHEET_URL, {
          download: true,
          header: true,
          skipEmptyLines: true,
          complete: async function(results) {
            loading.style.display = 'none';
            
            if (!results.data || results.data.length === 0) {
              error.classList.remove('hidden');
              errorText.textContent = 'Geen auto\'s gevonden in de sheet.';
              return;
            }
            
            allCarsData = results.data.filter(row => {
              return row.Kenteken && row.Kenteken.trim() && 
                     row.Kilometerstand && 
                     row.Prijs;
            });
            
            if (allCarsData.length === 0) {
              error.classList.remove('hidden');
              errorText.textContent = 'Geen geldige auto\'s gevonden.';
              return;
            }
            
            for (const car of allCarsData) {
              car.Kenteken = car.Kenteken.trim().toUpperCase();
              
              const rdw = await fetchCarData(car.Kenteken);
              allCarsWithRDW.push({ car, rdw });
            }
            
            initializeFilters();
            applyFilters();
          },
          error: function(err) {
            loading.style.display = 'none';
            error.classList.remove('hidden');
            errorText.textContent = `Fout: ${err.message}`;
          }
        });
      } catch (err) {
        loading.style.display = 'none';
        error.classList.remove('hidden');
        errorText.textContent = `Fout: ${err.message}`;
      }
    }

    // Filter toggle (all devices)
    document.getElementById('filterToggleBtn').addEventListener('click', () => {
      const container = document.getElementById('filterContainer');
      const icon = document.getElementById('filterToggleIcon');
      container.classList.toggle('hidden');
      icon.textContent = container.classList.contains('hidden') ? '+' : '−';
    });

    // Filter functions
    function getEfficiencyScore(cc) {
      if (!cc || cc === 0) return 'Onbekend';
      if (cc < 1200) return 'Zeer zuinig';
      if (cc <= 1600) return 'Gemiddeld';
      return 'Minder zuinig';
    }

    function applyFilters() {
      let filtered = [...allCarsWithRDW];
      
      // Search filter
      if (filterConfig.search) {
        const search = filterConfig.search.toLowerCase();
        filtered = filtered.filter(item => {
          const rdw = item.rdw || {};
          return (
            (rdw.merk || '').toLowerCase().includes(search) ||
            (rdw.model || '').toLowerCase().includes(search) ||
            (rdw.brandstof || '').toLowerCase().includes(search) ||
            (rdw.transmissie || '').toLowerCase().includes(search)
          );
        });
      }
      
      // Price filter
      filtered = filtered.filter(item => {
        const price = parseFloat(String(item.car.Prijs || '0').replace(/[€\s.]/g, '').replace(',', '.')) || 0;
        return price >= filterConfig.priceMin && price <= filterConfig.priceMax;
      });
      
      // Year filter
      filtered = filtered.filter(item => {
        const year = parseInt(item.rdw?.bouwjaar || item.car.Bouwjaar || 0);
        return year >= filterConfig.yearMin && year <= filterConfig.yearMax;
      });
      
      // KM filter
      filtered = filtered.filter(item => {
        const km = parseInt(item.car.Kilometerstand || 0);
        return km >= filterConfig.kmMin && km <= filterConfig.kmMax;
      });
      
      // CC filter
      filtered = filtered.filter(item => {
        const cc = parseInt((item.rdw?.cilinderinhoud || '0').replace(/\D/g, '')) || 0;
        return cc >= filterConfig.ccMin && cc <= filterConfig.ccMax;
      });
      
      // Brandstof filter
      if (filterConfig.brandstof) {
        filtered = filtered.filter(item => 
          (item.rdw?.brandstof || '').toLowerCase() === filterConfig.brandstof.toLowerCase()
        );
      }
      
      // Transmissie filter
      if (filterConfig.transmissie) {
        filtered = filtered.filter(item => 
          (item.rdw?.transmissie || '').toLowerCase().includes(filterConfig.transmissie.toLowerCase())
        );
      }
      
      // Sorting
      if (filterConfig.sort) {
        switch(filterConfig.sort) {
          case 'price-asc':
            filtered.sort((a, b) => {
              const priceA = parseFloat(String(a.car.Prijs || '0').replace(/[€\s.]/g, '').replace(',', '.')) || 0;
              const priceB = parseFloat(String(b.car.Prijs || '0').replace(/[€\s.]/g, '').replace(',', '.')) || 0;
              return priceA - priceB;
            });
            break;
          case 'price-desc':
            filtered.sort((a, b) => {
              const priceA = parseFloat(String(a.car.Prijs || '0').replace(/[€\s.]/g, '').replace(',', '.')) || 0;
              const priceB = parseFloat(String(b.car.Prijs || '0').replace(/[€\s.]/g, '').replace(',', '.')) || 0;
              return priceB - priceA;
            });
            break;
          case 'km-asc':
            filtered.sort((a, b) => parseInt(a.car.Kilometerstand || 0) - parseInt(b.car.Kilometerstand || 0));
            break;
          case 'year-desc':
            filtered.sort((a, b) => {
              const yearA = parseInt(a.rdw?.bouwjaar || a.car.Bouwjaar || 0);
              const yearB = parseInt(b.rdw?.bouwjaar || b.car.Bouwjaar || 0);
              return yearB - yearA;
            });
            break;
          case 'efficiency':
            filtered.sort((a, b) => {
              const ccA = parseInt((a.rdw?.cilinderinhoud || '0').replace(/\D/g, '')) || 0;
              const ccB = parseInt((b.rdw?.cilinderinhoud || '0').replace(/\D/g, '')) || 0;
              return ccA - ccB;
            });
            break;
          case 'alpha':
            filtered.sort((a, b) => {
              const merkA = (a.rdw?.merk || '').toLowerCase();
              const merkB = (b.rdw?.merk || '').toLowerCase();
              return merkA.localeCompare(merkB);
            });
            break;
        }
      }
      
      renderFilteredCars(filtered);
      document.getElementById('resultsCount').textContent = `${filtered.length} auto's gevonden`;
    }

    function renderFilteredCars(cars) {
      const grid = document.getElementById('carsGrid');
      grid.innerHTML = '';
      
      if (cars.length === 0) {
        grid.innerHTML = '<div class="col-span-full text-center py-12 text-gray-500"><p class="text-xl font-medium">Geen auto\'s gevonden met deze filters</p><p class="mt-2">Probeer andere filtercriteria</p></div>';
        return;
      }
      
      cars.forEach(item => {
        const card = renderCars(item.car, item.rdw);
        grid.appendChild(card);
      });
    }

    function initializeFilters() {
      // Calculate min/max values
      let minPrice = Infinity, maxPrice = 0;
      let minYear = Infinity, maxYear = 0;
      let minKm = Infinity, maxKm = 0;
      let minCc = Infinity, maxCc = 0;
      const brandstofSet = new Set();
      const transmissieSet = new Set();
      
      allCarsWithRDW.forEach(item => {
        const price = parseFloat(String(item.car.Prijs || '0').replace(/[€\s.]/g, '').replace(',', '.')) || 0;
        const year = parseInt(item.rdw?.bouwjaar || item.car.Bouwjaar || 0);
        const km = parseInt(item.car.Kilometerstand || 0);
        const cc = parseInt((item.rdw?.cilinderinhoud || '0').replace(/\D/g, '')) || 0;
        
        if (price > 0) {
          minPrice = Math.min(minPrice, price);
          maxPrice = Math.max(maxPrice, price);
        }
        if (year > 0) {
          minYear = Math.min(minYear, year);
          maxYear = Math.max(maxYear, year);
        }
        if (km > 0) {
          minKm = Math.min(minKm, km);
          maxKm = Math.max(maxKm, km);
        }
        if (cc > 0) {
          minCc = Math.min(minCc, cc);
          maxCc = Math.max(maxCc, cc);
        }
        
        if (item.rdw?.brandstof && item.rdw.brandstof !== '-') brandstofSet.add(item.rdw.brandstof);
        if (item.rdw?.transmissie && item.rdw.transmissie !== '-') transmissieSet.add(item.rdw.transmissie);
      });
      
      // Set filter ranges
      filterConfig.priceMin = minPrice === Infinity ? 0 : Math.floor(minPrice / 1000) * 1000;
      filterConfig.priceMax = maxPrice === 0 ? 100000 : Math.ceil(maxPrice / 1000) * 1000;
      filterConfig.yearMin = minYear === Infinity ? 1990 : minYear;
      filterConfig.yearMax = maxYear === 0 ? 2024 : maxYear;
      filterConfig.kmMin = minKm === Infinity ? 0 : Math.floor(minKm / 10000) * 10000;
      filterConfig.kmMax = maxKm === 0 ? 300000 : Math.ceil(maxKm / 10000) * 10000;
      filterConfig.ccMin = minCc === Infinity ? 0 : Math.floor(minCc / 100) * 100;
      filterConfig.ccMax = maxCc === 0 ? 5000 : Math.ceil(maxCc / 100) * 100;
      
      // Set slider attributes
      document.getElementById('priceMin').min = filterConfig.priceMin;
      document.getElementById('priceMin').max = filterConfig.priceMax;
      document.getElementById('priceMin').value = filterConfig.priceMin;
      document.getElementById('priceMax').min = filterConfig.priceMin;
      document.getElementById('priceMax').max = filterConfig.priceMax;
      document.getElementById('priceMax').value = filterConfig.priceMax;
      document.getElementById('priceMinInput').value = filterConfig.priceMin;
      document.getElementById('priceMaxInput').value = filterConfig.priceMax;
      
      document.getElementById('yearMin').min = filterConfig.yearMin;
      document.getElementById('yearMin').max = filterConfig.yearMax;
      document.getElementById('yearMin').value = filterConfig.yearMin;
      document.getElementById('yearMax').min = filterConfig.yearMin;
      document.getElementById('yearMax').max = filterConfig.yearMax;
      document.getElementById('yearMax').value = filterConfig.yearMax;
      document.getElementById('yearMinInput').value = filterConfig.yearMin;
      document.getElementById('yearMaxInput').value = filterConfig.yearMax;
      
      document.getElementById('kmMin').min = filterConfig.kmMin;
      document.getElementById('kmMin').max = filterConfig.kmMax;
      document.getElementById('kmMin').value = filterConfig.kmMin;
      document.getElementById('kmMax').min = filterConfig.kmMin;
      document.getElementById('kmMax').max = filterConfig.kmMax;
      document.getElementById('kmMax').value = filterConfig.kmMax;
      document.getElementById('kmMinInput').value = filterConfig.kmMin;
      document.getElementById('kmMaxInput').value = filterConfig.kmMax;
      
      document.getElementById('ccMin').min = filterConfig.ccMin;
      document.getElementById('ccMin').max = filterConfig.ccMax;
      document.getElementById('ccMin').value = filterConfig.ccMin;
      document.getElementById('ccMax').min = filterConfig.ccMin;
      document.getElementById('ccMax').max = filterConfig.ccMax;
      document.getElementById('ccMax').value = filterConfig.ccMax;
      document.getElementById('ccMinInput').value = filterConfig.ccMin;
      document.getElementById('ccMaxInput').value = filterConfig.ccMax;
      
      // Populate dropdowns
      const brandstofFilter = document.getElementById('brandstofFilter');
      Array.from(brandstofSet).sort().forEach(b => {
        const option = document.createElement('option');
        option.value = b;
        option.textContent = b;
        brandstofFilter.appendChild(option);
      });
      
      const transmissieFilter = document.getElementById('transmissieFilter');
      Array.from(transmissieSet).sort().forEach(t => {
        const option = document.createElement('option');
        option.value = t;
        option.textContent = t;
        transmissieFilter.appendChild(option);
      });
    }

    // Event listeners for filters
    let searchTimeout;
    document.getElementById('searchInput').addEventListener('input', (e) => {
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(() => {
        filterConfig.search = e.target.value;
        applyFilters();
      }, 200);
    });

    document.getElementById('sortSelect').addEventListener('change', (e) => {
      filterConfig.sort = e.target.value;
      applyFilters();
    });

    document.getElementById('priceMin').addEventListener('input', (e) => {
      filterConfig.priceMin = parseInt(e.target.value);
      document.getElementById('priceMinInput').value = filterConfig.priceMin;
      applyFilters();
    });

    document.getElementById('priceMax').addEventListener('input', (e) => {
      filterConfig.priceMax = parseInt(e.target.value);
      document.getElementById('priceMaxInput').value = filterConfig.priceMax;
      applyFilters();
    });

    document.getElementById('priceMinInput').addEventListener('change', (e) => {
      filterConfig.priceMin = parseInt(e.target.value) || 0;
      document.getElementById('priceMin').value = filterConfig.priceMin;
      applyFilters();
    });

    document.getElementById('priceMaxInput').addEventListener('change', (e) => {
      filterConfig.priceMax = parseInt(e.target.value) || 100000;
      document.getElementById('priceMax').value = filterConfig.priceMax;
      applyFilters();
    });

    document.getElementById('yearMin').addEventListener('input', (e) => {
      filterConfig.yearMin = parseInt(e.target.value);
      document.getElementById('yearMinInput').value = filterConfig.yearMin;
      applyFilters();
    });

    document.getElementById('yearMax').addEventListener('input', (e) => {
      filterConfig.yearMax = parseInt(e.target.value);
      document.getElementById('yearMaxInput').value = filterConfig.yearMax;
      applyFilters();
    });

    document.getElementById('yearMinInput').addEventListener('change', (e) => {
      filterConfig.yearMin = parseInt(e.target.value) || 1990;
      document.getElementById('yearMin').value = filterConfig.yearMin;
      applyFilters();
    });

    document.getElementById('yearMaxInput').addEventListener('change', (e) => {
      filterConfig.yearMax = parseInt(e.target.value) || 2024;
      document.getElementById('yearMax').value = filterConfig.yearMax;
      applyFilters();
    });

    document.getElementById('kmMin').addEventListener('input', (e) => {
      filterConfig.kmMin = parseInt(e.target.value);
      document.getElementById('kmMinInput').value = filterConfig.kmMin;
      applyFilters();
    });

    document.getElementById('kmMax').addEventListener('input', (e) => {
      filterConfig.kmMax = parseInt(e.target.value);
      document.getElementById('kmMaxInput').value = filterConfig.kmMax;
      applyFilters();
    });

    document.getElementById('kmMinInput').addEventListener('change', (e) => {
      filterConfig.kmMin = parseInt(e.target.value) || 0;
      document.getElementById('kmMin').value = filterConfig.kmMin;
      applyFilters();
    });

    document.getElementById('kmMaxInput').addEventListener('change', (e) => {
      filterConfig.kmMax = parseInt(e.target.value) || 300000;
      document.getElementById('kmMax').value = filterConfig.kmMax;
      applyFilters();
    });

    document.getElementById('ccMin').addEventListener('input', (e) => {
      filterConfig.ccMin = parseInt(e.target.value);
      document.getElementById('ccMinInput').value = filterConfig.ccMin;
      applyFilters();
    });

    document.getElementById('ccMax').addEventListener('input', (e) => {
      filterConfig.ccMax = parseInt(e.target.value);
      document.getElementById('ccMaxInput').value = filterConfig.ccMax;
      applyFilters();
    });

    document.getElementById('ccMinInput').addEventListener('change', (e) => {
      filterConfig.ccMin = parseInt(e.target.value) || 0;
      document.getElementById('ccMin').value = filterConfig.ccMin;
      applyFilters();
    });

    document.getElementById('ccMaxInput').addEventListener('change', (e) => {
      filterConfig.ccMax = parseInt(e.target.value) || 5000;
      document.getElementById('ccMax').value = filterConfig.ccMax;
      applyFilters();
    });

    document.getElementById('brandstofFilter').addEventListener('change', (e) => {
      filterConfig.brandstof = e.target.value;
      applyFilters();
    });

    document.getElementById('transmissieFilter').addEventListener('change', (e) => {
      filterConfig.transmissie = e.target.value;
      applyFilters();
    });

    document.getElementById('resetFilters').addEventListener('click', () => {
      document.getElementById('searchInput').value = '';
      document.getElementById('sortSelect').value = '';
      document.getElementById('brandstofFilter').value = '';
      document.getElementById('transmissieFilter').value = '';
      
      initializeFilters();
      filterConfig.search = '';
      filterConfig.sort = '';
      filterConfig.brandstof = '';
      filterConfig.transmissie = '';
      
      applyFilters();
    });

    window.addEventListener('DOMContentLoaded', loadCars);
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a0b1ca9162f7a4b',t:'MTc2MzUwNzExOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
