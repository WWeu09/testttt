<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spaans ‚Üî Nederlands Leerapp</title>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f2f2f2;
            color: #333;
            line-height: 1.6;
        }

        * {
            box-sizing: border-box;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            text-align: center;
        }

        .direction-toggle {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .direction-btn {
            padding: 10px 20px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .direction-btn.active {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #4CAF50;
        }

        .tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .tab {
            padding: 12px 20px;
            background: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            white-space: nowrap;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .tab.active {
            background: #4CAF50;
            color: white;
        }

        .content {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            min-height: 400px;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .search-input, .category-select {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            flex: 1;
            min-width: 200px;
        }

        .word-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .word-table th, .word-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .word-table th {
            background: #f8f9fa;
            font-weight: bold;
        }

        .favorite-btn {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            padding: 5px;
        }

        .flashcard {
            background: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            margin: 20px 0;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .flashcard:hover {
            border-color: #4CAF50;
        }

        .flashcard-word {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .flashcard-translation {
            font-size: 20px;
            color: #666;
        }

        .flashcard-category {
            font-size: 14px;
            color: #999;
            margin-top: 10px;
        }

        .btn {
            padding: 12px 24px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            background: #45a049;
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .typing-input {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
        }

        .feedback {
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: bold;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
            margin: 20px 0;
        }

        .quiz-option {
            padding: 15px;
            background: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .quiz-option:hover {
            border-color: #4CAF50;
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .search-input, .category-select {
                min-width: auto;
            }
            
            .word-table {
                font-size: 14px;
            }
            
            .flashcard {
                padding: 20px;
            }
            
            .flashcard-word {
                font-size: 24px;
            }
            
            .tabs {
                justify-content: center;
            }
            
            .tab {
                font-size: 14px;
                padding: 10px 15px;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header fade-in">
            <h1>üá™üá∏ ‚Üî üá≥üá± Spaans-Nederlands Leerapp</h1>
            
            <div class="direction-toggle">
                <button class="direction-btn active" data-direction="es-nl">üá™üá∏ ‚Üí üá≥üá±</button>
                <button class="direction-btn" data-direction="nl-es">üá≥üá± ‚Üí üá™üá∏</button>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="totalWords">0</div>
                    <div>üìö Totaal</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="favoriteWords">0</div>
                    <div>‚ù§Ô∏è Favorieten</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="practicedWords">0</div>
                    <div>üéØ Geoefend</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="quizScore">0%</div>
                    <div>üß† Quiz Score</div>
                </div>
            </div>
        </header>

        <nav class="tabs fade-in">
            <button class="tab active" data-tab="learn">üìö Learn</button>
            <button class="tab" data-tab="flashcards">üÉè Flashcards</button>
            <button class="tab" data-tab="typing">‚å®Ô∏è Typing</button>
            <button class="tab" data-tab="quiz">üß† Quiz</button>
        </nav>

        <main class="content fade-in" id="content">
            <!-- Content will be dynamically loaded here -->
        </main>
    </div>

    <script>
        // Data
        const data = [
            // Bron A en B
            {cat:"Bron A en B", es:"hola", nl:"hallo"},
            {cat:"Bron A en B", es:"bien", nl:"goed"},
            {cat:"Bron A en B", es:"no", nl:"nee"},
            {cat:"Bron A en B", es:"s√≠", nl:"ja/wel"},
            {cat:"Bron A en B", es:"la piscina", nl:"het zwembad"},
            {cat:"Bron A en B", es:"el camping", nl:"de camping"},
            {cat:"Bron A en B", es:"me llamo", nl:"ik heet"},
            {cat:"Bron A en B", es:"hablas", nl:"je spreekt"},
            {cat:"Bron A en B", es:"vas", nl:"je gaat"},
            {cat:"Bron A en B", es:"voy", nl:"ik ga"},
            {cat:"Bron A en B", es:"¬øY t√∫?", nl:"En jij?"},
            
            // Bron C
            {cat:"Bron C", es:"marr√≥n", nl:"bruin"},
            {cat:"Bron C", es:"naranja", nl:"oranje"},
            {cat:"Bron C", es:"gris", nl:"grijs"},
            {cat:"Bron C", es:"¬øQu√© tal?", nl:"Hoe gaat het?"},
            {cat:"Bron C", es:"hasta pronto", nl:"tot gauw"},
            {cat:"Bron C", es:"buenos d√≠as", nl:"goedendag"},
            {cat:"Bron C", es:"azul", nl:"blauw"},
            {cat:"Bron C", es:"amarillo", nl:"geel"},
            {cat:"Bron C", es:"negro", nl:"zwart"},
            {cat:"Bron C", es:"¬ød√≥nde?", nl:"waar?"},
            {cat:"Bron C", es:"yo", nl:"ik"},
            {cat:"Bron C", es:"muy", nl:"heel, erg"},
            {cat:"Bron C", es:"tambi√©n", nl:"ook"},
            {cat:"Bron C", es:"fant√°stico", nl:"fantastisch"},
            {cat:"Bron C", es:"grande", nl:"groot"},
            {cat:"Bron C", es:"en Barcelona", nl:"in Barcelona"},
            {cat:"Bron C", es:"el chico", nl:"de jongen"},
            {cat:"Bron C", es:"la chica", nl:"het meisje"},
            {cat:"Bron C", es:"el amigo", nl:"de vriend"},
            {cat:"Bron C", es:"la amiga", nl:"de vriendin"},
            {cat:"Bron C", es:"la hermana", nl:"de zus"},
            {cat:"Bron C", es:"el hermano", nl:"de broer"},
            {cat:"Bron C", es:"la tienda", nl:"de tent"},
            {cat:"Bron C", es:"las vacaciones", nl:"de vakantie"},
            {cat:"Bron C", es:"la ciudad", nl:"de stad"},
            {cat:"Bron C", es:"el pueblo", nl:"het dorp"},
            {cat:"Bron C", es:"tengo", nl:"ik heb"},
            {cat:"Bron C", es:"tenemos", nl:"wij hebben"},
            {cat:"Bron C", es:"tiene 14 a√±os", nl:"hij/zij is 14 jaar"},
            {cat:"Bron C", es:"tengo 15 a√±os", nl:"ik ben 15 jaar"},
            {cat:"Bron C", es:"vivo en", nl:"ik woon in"},
            {cat:"Bron C", es:"se llama", nl:"hij/zij heet"},
            {cat:"Bron C", es:"te llamas", nl:"jij heet"},
            
            // Bron F, G en H
            {cat:"Bron F, G en H", es:"buenas noches", nl:"goedenavond"},
            {cat:"Bron F, G en H", es:"hasta luego", nl:"tot ziens"},
            {cat:"Bron F, G en H", es:"bien hecho", nl:"goed gedaan"},
            {cat:"Bron F, G en H", es:"primero/-a", nl:"eerste"},
            {cat:"Bron F, G en H", es:"√∫ltimo/-a", nl:"laatste"},
            {cat:"Bron F, G en H", es:"cerca de", nl:"vlakbij, dichtbij"},
            {cat:"Bron F, G en H", es:"cantar", nl:"zingen"},
            {cat:"Bron F, G en H", es:"el presentador", nl:"de presentator"},
            {cat:"Bron F, G en H", es:"el participante", nl:"de deelnemer"},
            {cat:"Bron F, G en H", es:"la participante", nl:"de deelneemster"},
            {cat:"Bron F, G en H", es:"la canci√≥n", nl:"het liedje"},
            {cat:"Bron F, G en H", es:"la canci√≥n preferida", nl:"het lievelingsliedje"},
            {cat:"Bron F, G en H", es:"el n√∫mero de tel√©fono", nl:"het telefoonnummer"},
            {cat:"Bron F, G en H", es:"el hijo", nl:"de zoon"},
            {cat:"Bron F, G en H", es:"la hija", nl:"de dochter"},
            {cat:"Bron F, G en H", es:"vamos", nl:"wij gaan"},
            {cat:"Bron F, G en H", es:"va", nl:"gaat"},
            {cat:"Bron F, G en H", es:"soy", nl:"ik ben"},
            {cat:"Bron F, G en H", es:"es", nl:"hij/zij is, u bent"},
            {cat:"Bron F, G en H", es:"verde", nl:"groen"},
            {cat:"Bron F, G en H", es:"violeta", nl:"paars"},
            {cat:"Bron F, G en H", es:"ingl√©s", nl:"Engels"},
            {cat:"Bron F, G en H", es:"rosa", nl:"roze"},
            
            // Landen en talen
            {cat:"Landen en talen", es:"blanco", nl:"wit"},
            {cat:"Landen en talen", es:"rojo", nl:"rood"},
            {cat:"Landen en talen", es:"Holanda", nl:"Nederland"},
            {cat:"Landen en talen", es:"holand√©s/holandesa", nl:"Nederlander/Nederlandse"},
            {cat:"Landen en talen", es:"Inglaterra", nl:"Engeland"},
            {cat:"Landen en talen", es:"ingl√©s/inglesa", nl:"Engelsman/Engelse"},
            {cat:"Landen en talen", es:"Espa√±a", nl:"Spanje"},
            {cat:"Landen en talen", es:"espa√±ol/espa√±ola", nl:"Spanjaard/Spaanse"},
            {cat:"Landen en talen", es:"Francia", nl:"Frankrijk"},
            {cat:"Landen en talen", es:"franc√©s/francesa", nl:"Fransman/Fran√ßaise"},
            {cat:"Landen en talen", es:"Alemania", nl:"Duitsland"},
            {cat:"Landen en talen", es:"alem√°n/alemana", nl:"Duitser/Duitse"},
            {cat:"Landen en talen", es:"M√©xico", nl:"Mexico"},
            {cat:"Landen en talen", es:"mexicano/mexicana", nl:"Mexicaan/Mexicaanse"},
            {cat:"Landen en talen", es:"Italia", nl:"Itali√´"},
            {cat:"Landen en talen", es:"italiano/italiana", nl:"Italiaan/Italiaanse"},
            
            // Frases clave
            {cat:"Frases clave", es:"¬øC√≥mo te llamas?", nl:"Hoe heet je?"},
            {cat:"Frases clave", es:"¬øEres espa√±ol/espa√±ola?", nl:"Ben jij Spaans/Spaanse?"},
            {cat:"Frases clave", es:"¬øHablas espa√±ol?", nl:"Spreek je Spaans?"},
            {cat:"Frases clave", es:"¬øD√≥nde vives?", nl:"Waar woon je?"},
            {cat:"Frases clave", es:"Tengo 14 a√±os", nl:"Ik ben 14 jaar"},
            {cat:"Frases clave", es:"Vivo en Amsterdam", nl:"Ik woon in Amsterdam"},
            {cat:"Frases clave", es:"Me gusta mucho", nl:"Ik vind het heel leuk"},
            {cat:"Frases clave", es:"No me gusta", nl:"Ik vind het niet leuk"},
            {cat:"Frases clave", es:"¬øTe gusta?", nl:"Vind je het leuk?"},
            {cat:"Frases clave", es:"Muchas gracias", nl:"Heel erg bedankt"}
        ];

        // State
        let currentDirection = 'es-nl';
        let currentTab = 'learn';
        let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
        let practiced = JSON.parse(localStorage.getItem('practiced') || '[]');
        let quizStats = JSON.parse(localStorage.getItem('quizStats') || '{"correct": 0, "total": 0}');
        let currentFlashcardIndex = 0;
        let currentTypingWord = null;
        let currentQuizWord = null;
        let showingTranslation = false;

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            updateStats();
            showTab('learn');
        });

        function setupEventListeners() {
            // Direction toggle
            document.querySelectorAll('.direction-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.direction-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentDirection = this.dataset.direction;
                    showTab(currentTab); // Refresh current tab
                });
            });

            // Tab navigation
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentTab = this.dataset.tab;
                    showTab(currentTab);
                });
            });
        }

        function updateStats() {
            document.getElementById('totalWords').textContent = data.length;
            document.getElementById('favoriteWords').textContent = favorites.length;
            document.getElementById('practicedWords').textContent = practiced.length;
            
            const percentage = quizStats.total > 0 ? Math.round((quizStats.correct / quizStats.total) * 100) : 0;
            document.getElementById('quizScore').textContent = percentage + '%';
        }

        function showTab(tabName) {
            const content = document.getElementById('content');
            content.className = 'content fade-in';
            
            switch(tabName) {
                case 'learn':
                    showLearnTab();
                    break;
                case 'flashcards':
                    showFlashcardsTab();
                    break;
                case 'typing':
                    showTypingTab();
                    break;
                case 'quiz':
                    showQuizTab();
                    break;
            }
        }

        function showLearnTab() {
            const categories = [...new Set(data.map(item => item.cat))];
            
            const content = `
                <h2>üìö Woordenlijst</h2>
                <div class="controls">
                    <input type="text" class="search-input" id="searchInput" placeholder="Zoek woorden...">
                    <select class="category-select" id="categorySelect">
                        <option value="">Alle categorie√´n</option>
                        ${categories.map(cat => `<option value="${cat}">${cat}</option>`).join('')}
                    </select>
                    <button class="btn" onclick="showFavoritesOnly()">‚ù§Ô∏è Alleen favorieten</button>
                </div>
                <div id="wordList"></div>
            `;
            
            document.getElementById('content').innerHTML = content;
            
            document.getElementById('searchInput').addEventListener('input', filterWords);
            document.getElementById('categorySelect').addEventListener('change', filterWords);
            
            filterWords();
        }

        function filterWords() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const selectedCategory = document.getElementById('categorySelect').value;
            
            let filteredData = data.filter(item => {
                const matchesSearch = item.es.toLowerCase().includes(searchTerm) || 
                                    item.nl.toLowerCase().includes(searchTerm);
                const matchesCategory = !selectedCategory || item.cat === selectedCategory;
                return matchesSearch && matchesCategory;
            });
            
            displayWordList(filteredData);
        }

        function showFavoritesOnly() {
            const favoriteWords = data.filter(item => 
                favorites.includes(`${item.es}-${item.nl}`)
            );
            displayWordList(favoriteWords);
        }

        function displayWordList(words) {
            const isEsNl = currentDirection === 'es-nl';
            
            const table = `
                <table class="word-table">
                    <thead>
                        <tr>
                            <th>${isEsNl ? 'üá™üá∏ Spaans' : 'üá≥üá± Nederlands'}</th>
                            <th>${isEsNl ? 'üá≥üá± Nederlands' : 'üá™üá∏ Spaans'}</th>
                            <th>üìÇ Categorie</th>
                            <th>‚ù§Ô∏è</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${words.map(word => {
                            const wordId = `${word.es}-${word.nl}`;
                            const isFavorite = favorites.includes(wordId);
                            return `
                                <tr>
                                    <td><strong>${isEsNl ? word.es : word.nl}</strong></td>
                                    <td>${isEsNl ? word.nl : word.es}</td>
                                    <td><small>${word.cat}</small></td>
                                    <td>
                                        <button class="favorite-btn" onclick="toggleFavorite('${wordId}')">
                                            ${isFavorite ? '‚ù§Ô∏è' : 'ü§ç'}
                                        </button>
                                    </td>
                                </tr>
                            `;
                        }).join('')}
                    </tbody>
                </table>
            `;
            
            document.getElementById('wordList').innerHTML = table;
        }

        function toggleFavorite(wordId) {
            if (favorites.includes(wordId)) {
                favorites = favorites.filter(id => id !== wordId);
            } else {
                favorites.push(wordId);
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            updateStats();
            filterWords(); // Refresh the display
        }

        function showFlashcardsTab() {
            const content = `
                <h2>üÉè Flashcards</h2>
                <div id="flashcardContainer"></div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" onclick="previousFlashcard()">‚¨ÖÔ∏è Vorige</button>
                    <button class="btn" onclick="nextFlashcard()">Volgende ‚û°Ô∏è</button>
                </div>
            `;
            
            document.getElementById('content').innerHTML = content;
            showFlashcard();
        }

        function showFlashcard() {
            if (data.length === 0) return;
            
            const word = data[currentFlashcardIndex];
            const isEsNl = currentDirection === 'es-nl';
            
            const flashcard = `
                <div class="flashcard" onclick="flipFlashcard()">
                    <div class="flashcard-word">
                        ${showingTranslation ? 
                            (isEsNl ? word.nl : word.es) : 
                            (isEsNl ? word.es : word.nl)
                        }
                    </div>
                    ${showingTranslation ? 
                        `<div class="flashcard-translation">Klik voor het ${isEsNl ? 'Spaanse' : 'Nederlandse'} woord</div>` :
                        `<div class="flashcard-translation">Klik voor de vertaling</div>`
                    }
                    <div class="flashcard-category">${word.cat}</div>
                </div>
            `;
            
            document.getElementById('flashcardContainer').innerHTML = flashcard;
        }

        function flipFlashcard() {
            if (!showingTranslation) {
                showingTranslation = true;
                showFlashcard();
                // Auto advance to next card after showing translation
                setTimeout(() => {
                    nextFlashcard();
                }, 2000);
            }
        }

        function nextFlashcard() {
            currentFlashcardIndex = (currentFlashcardIndex + 1) % data.length;
            showingTranslation = false;
            showFlashcard();
        }

        function previousFlashcard() {
            currentFlashcardIndex = currentFlashcardIndex === 0 ? data.length - 1 : currentFlashcardIndex - 1;
            showingTranslation = false;
            showFlashcard();
        }

        function showTypingTab() {
            const content = `
                <h2>‚å®Ô∏è Typing Oefening</h2>
                <div id="typingContainer"></div>
            `;
            
            document.getElementById('content').innerHTML = content;
            startTypingExercise();
        }

        function startTypingExercise() {
            currentTypingWord = data[Math.floor(Math.random() * data.length)];
            const isEsNl = currentDirection === 'es-nl';
            
            const exercise = `
                <div style="text-align: center;">
                    <h3>Typ de vertaling van:</h3>
                    <div class="flashcard-word" style="margin: 20px 0;">
                        ${isEsNl ? currentTypingWord.es : currentTypingWord.nl}
                    </div>
                    <input type="text" class="typing-input" id="typingInput" placeholder="Typ hier je antwoord..." autocomplete="off">
                    <br>
                    <button class="btn" onclick="checkTypingAnswer()">Controleer</button>
                    <button class="btn" onclick="skipTypingWord()">Overslaan</button>
                </div>
                <div id="typingFeedback"></div>
            `;
            
            document.getElementById('typingContainer').innerHTML = exercise;
            document.getElementById('typingInput').focus();
            
            document.getElementById('typingInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkTypingAnswer();
                }
            });
        }

        function checkTypingAnswer() {
            const userAnswer = document.getElementById('typingInput').value.trim().toLowerCase();
            const isEsNl = currentDirection === 'es-nl';
            const correctAnswer = (isEsNl ? currentTypingWord.nl : currentTypingWord.es).toLowerCase();
            
            const wordId = `${currentTypingWord.es}-${currentTypingWord.nl}`;
            if (!practiced.includes(wordId)) {
                practiced.push(wordId);
                localStorage.setItem('practiced', JSON.stringify(practiced));
                updateStats();
            }
            
            const feedbackDiv = document.getElementById('typingFeedback');
            
            if (userAnswer === correctAnswer) {
                feedbackDiv.innerHTML = `
                    <div class="feedback correct">
                        ‚úÖ Correct! Volgende woord komt...
                    </div>
                `;
                setTimeout(() => {
                    startTypingExercise();
                }, 800);
            } else {
                feedbackDiv.innerHTML = `
                    <div class="feedback incorrect">
                        ‚ùå Fout. Het juiste antwoord is: "${isEsNl ? currentTypingWord.nl : currentTypingWord.es}"
                        <br><small>Probeer het opnieuw...</small>
                    </div>
                `;
                document.getElementById('typingInput').value = '';
                document.getElementById('typingInput').focus();
            }
        }

        function skipTypingWord() {
            startTypingExercise();
        }

        function showQuizTab() {
            const content = `
                <h2>üß† Quiz</h2>
                <div id="quizContainer"></div>
            `;
            
            document.getElementById('content').innerHTML = content;
            startQuiz();
        }

        function startQuiz() {
            currentQuizWord = data[Math.floor(Math.random() * data.length)];
            const isEsNl = currentDirection === 'es-nl';
            
            // Generate wrong answers
            const wrongAnswers = [];
            while (wrongAnswers.length < 3) {
                const randomWord = data[Math.floor(Math.random() * data.length)];
                const wrongAnswer = isEsNl ? randomWord.nl : randomWord.es;
                const correctAnswer = isEsNl ? currentQuizWord.nl : currentQuizWord.es;
                
                if (wrongAnswer !== correctAnswer && !wrongAnswers.includes(wrongAnswer)) {
                    wrongAnswers.push(wrongAnswer);
                }
            }
            
            // Mix correct answer with wrong answers
            const allOptions = [...wrongAnswers, isEsNl ? currentQuizWord.nl : currentQuizWord.es];
            const shuffledOptions = allOptions.sort(() => Math.random() - 0.5);
            
            const quiz = `
                <div style="text-align: center;">
                    <h3>Wat betekent:</h3>
                    <div class="flashcard-word" style="margin: 20px 0;">
                        ${isEsNl ? currentQuizWord.es : currentQuizWord.nl}
                    </div>
                    <div class="quiz-options">
                        ${shuffledOptions.map(option => `
                            <div class="quiz-option" onclick="selectQuizAnswer('${option}')">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div id="quizFeedback"></div>
            `;
            
            document.getElementById('quizContainer').innerHTML = quiz;
        }

        function selectQuizAnswer(selectedAnswer) {
            const isEsNl = currentDirection === 'es-nl';
            const correctAnswer = isEsNl ? currentQuizWord.nl : currentQuizWord.es;
            const isCorrect = selectedAnswer === correctAnswer;
            
            // Update quiz statistics
            quizStats.total++;
            if (isCorrect) {
                quizStats.correct++;
            }
            localStorage.setItem('quizStats', JSON.stringify(quizStats));
            updateStats();
            
            // Mark practiced
            const wordId = `${currentQuizWord.es}-${currentQuizWord.nl}`;
            if (!practiced.includes(wordId)) {
                practiced.push(wordId);
                localStorage.setItem('practiced', JSON.stringify(practiced));
                updateStats();
            }
            
            // Show feedback
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => {
                option.style.pointerEvents = 'none';
                if (option.textContent.trim() === correctAnswer) {
                    option.classList.add('correct');
                } else if (option.textContent.trim() === selectedAnswer && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            const feedbackDiv = document.getElementById('quizFeedback');
            
            if (isCorrect) {
                feedbackDiv.innerHTML = `
                    <div class="feedback correct" style="text-align: center;">
                        ‚úÖ Correct! Volgende vraag komt...
                    </div>
                `;
                setTimeout(() => {
                    startQuiz();
                }, 800);
            } else {
                feedbackDiv.innerHTML = `
                    <div class="feedback incorrect" style="text-align: center;">
                        ‚ùå Fout. Het juiste antwoord is: ${correctAnswer}
                        <br><small>Volgende vraag komt...</small>
                    </div>
                `;
                setTimeout(() => {
                    startQuiz();
                }, 2000);
            }
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'993b46d06456670f',t:'MTc2MTMyNzgwOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
